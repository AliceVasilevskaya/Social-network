(this["webpackJsonpsocial-network"]=this["webpackJsonpsocial-network"]||[]).push([[4],{226:function(t,e,s){"use strict";s.d(e,"a",(function(){return j}));var n=s(3),r=s(227),c=s(229),o=s.n(c),i=(s(0),s(232)),a=s.n(i),l=s(2),u=["children","onClick","disabled","active","className"],j=function(t){var e=t.children,s=t.onClick,c=t.disabled,i=t.active,j=t.className,d=Object(r.a)(t,u),b=a()(o.a.button,j,{active:i});return Object(l.jsx)("div",{children:Object(l.jsx)("button",Object(n.a)(Object(n.a)({},d),{},{className:b,onClick:s,disabled:c,children:e}))})}},228:function(t,e,s){t.exports={formControl:"FormsControl_formControl__3ePls",error:"FormsControl_error__3Zoc1",formError:"FormsControl_formError__ENTLg",login:"FormsControl_login__3eT-V",checkbox:"FormsControl_checkbox__2IIJT",textarea:"FormsControl_textarea__2kYG7"}},229:function(t,e,s){t.exports={button:"Button_button__35Lk-"}},230:function(t,e,s){"use strict";s.d(e,"a",(function(){return b})),s.d(e,"b",(function(){return f})),s.d(e,"c",(function(){return h}));var n=s(3),r=s(227),c=(s(0),s(228)),o=s.n(c),i=s(104),a=s(2),l=["input","meta","child","children"],u=["input","meta","child","className"],j=["input","meta","child","className"],d=function(t){t.input;var e=t.meta,s=e.touched,n=e.error,c=(t.child,t.children),i=(Object(r.a)(t,l),s&&n);return Object(a.jsxs)("div",{className:o.a.formControl+" "+(i?o.a.error:" "),children:[Object(a.jsx)("div",{children:c}),i&&Object(a.jsx)("span",{children:n})]})},b=function(t){var e=t.input,s=(t.meta,t.child,t.className),c=Object(r.a)(t,u);return Object(a.jsx)(d,Object(n.a)(Object(n.a)({},t),{},{children:Object(a.jsx)("input",Object(n.a)(Object(n.a)({className:s},e),c))}))},f=function(t){var e=t.input,s=(t.meta,t.child,t.className),c=Object(r.a)(t,j);return Object(a.jsx)(d,Object(n.a)(Object(n.a)({},t),{},{children:Object(a.jsx)("textarea",Object(n.a)(Object(n.a)({className:o.a.textarea+" "+s},e),c))}))},h=function(t,e,s,r,c,o){var l=arguments.length>6&&void 0!==arguments[6]?arguments[6]:"",u=arguments.length>7&&void 0!==arguments[7]?arguments[7]:{};return Object(a.jsxs)("div",{className:c,children:[Object(a.jsx)(i.a,Object(n.a)({component:t,placeholder:e,name:s,validate:r,type:o},u)),l]})}},231:function(t,e,s){"use strict";s.d(e,"b",(function(){return n})),s.d(e,"a",(function(){return r}));var n=function(t){if(!t)return"Field is required"},r=function(t){return function(e){if(e.length>t)return"The limit is ".concat(t," symbols")}}},234:function(t,e,s){"use strict";s.d(e,"a",(function(){return f}));var n=s(3),r=s(35),c=s(36),o=s(38),i=s(37),a=s(0),l=s.n(a),u=s(7),j=s(24),d=s(2),b=function(t){return{isAuth:t.auth.isAuth}},f=function(t){var e=function(e){Object(o.a)(a,e);var s=Object(i.a)(a);function a(){return Object(r.a)(this,a),s.apply(this,arguments)}return Object(c.a)(a,[{key:"render",value:function(){return this.props.isAuth?Object(d.jsx)(t,Object(n.a)({},this.props)):Object(d.jsx)(u.a,{to:"/login"})}}]),a}(l.a.Component);return Object(j.b)(b)(e)}},236:function(t,e,s){"use strict";s.d(e,"a",(function(){return r}));var n=s(57);function r(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){if("undefined"!==typeof Symbol&&Symbol.iterator in Object(t)){var s=[],n=!0,r=!1,c=void 0;try{for(var o,i=t[Symbol.iterator]();!(n=(o=i.next()).done)&&(s.push(o.value),!e||s.length!==e);n=!0);}catch(a){r=!0,c=a}finally{try{n||null==i.return||i.return()}finally{if(r)throw c}}return s}}(t,e)||Object(n.a)(t,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}},237:function(t,e,s){"use strict";e.a=s.p+"static/media/user.930a8106.jpg"},242:function(t,e,s){t.exports={myInfo:"ProfileInfo_myInfo__3hr8c",left:"ProfileInfo_left__3P_FM",right:"ProfileInfo_right__1SikH",name:"ProfileInfo_name__vmhje",mainPhoto:"ProfileInfo_mainPhoto___1og7",selectFile:"ProfileInfo_selectFile__3jlh0",dataForm:"ProfileInfo_dataForm__2yJya",editDataForm:"ProfileInfo_editDataForm__39E33",contactsTitle:"ProfileInfo_contactsTitle__3X2ig",contacts:"ProfileInfo_contacts__2FVI8"}},243:function(t,e,s){"use strict";s(0);var n=s(244),r=s.n(n),c=s(2);e.a=function(t){return Object(c.jsx)("div",{className:r.a.preloader,children:"Loading..."})}},244:function(t,e,s){t.exports={preloader:"Preloader_preloader__3_k_9"}},245:function(t,e,s){"use strict";e.a=s.p+"static/media/userPhoto.ffbebeda.png"},306:function(t,e,s){t.exports={posts:"MyPosts_posts__3tpJ5",postsBlock:"MyPosts_postsBlock__6e-ZX"}},307:function(t,e,s){t.exports={item:"Post_item__abhDn",postText:"Post_postText__1uJO4",likes:"Post_likes__25VJv"}},312:function(t,e,s){"use strict";s.r(e);var n=s(3),r=s(35),c=s(36),o=s(38),i=s(37),a=s(0),l=s.n(a),u=s(24),j=s(56),d=s(7),b=s(234),f=s(22),h=s(236),O=s(242),p=s.n(O),m=s(243),x=s(245),v=s(2),_=function(t){var e=Object(a.useState)(!1),s=Object(h.a)(e,2),n=s[0],r=s[1],c=Object(a.useState)(t.status),o=Object(h.a)(c,2),i=o[0],l=o[1];Object(a.useEffect)((function(){l(t.status)}),[t.status]);return Object(v.jsxs)("div",{children:[!n&&Object(v.jsx)("div",{onDoubleClick:function(){r(!0)},children:Object(v.jsx)("span",{children:t.status||"---"})}),n&&Object(v.jsx)("div",{children:Object(v.jsx)("input",{onChange:function(t){l(t.currentTarget.value)},autoFocus:!0,onBlur:function(){r(!1),t.updateUserStatus(i)},value:i})})]})},g=s(230),P=s(226),k=s(105),y=s(228),N=s.n(y),F=s(231),S=Object(k.a)({form:"edit-profile"})((function(t){var e=t.handleSubmit,s=t.profile,n=t.error;return Object(v.jsxs)("form",{className:p.a.editDataForm,onSubmit:e,children:[Object(v.jsxs)("div",{children:[Object(v.jsx)("b",{children:"Name"}),":",Object(g.c)(g.a,"name","fullName",null)]}),Object(v.jsxs)("div",{children:[Object(v.jsx)("b",{children:"Looking for a job"}),":",Object(g.c)(g.a,null,"lookingForAJob",null,p.a.checkbox,"checkbox")]}),Object(v.jsxs)("div",{children:[Object(v.jsx)("b",{children:"My professional skills"}),": ",Object(g.c)(g.a,"skills","lookingForAJobDescription",null)]}),Object(v.jsxs)("div",{children:[Object(v.jsx)("b",{children:"About me"}),": ",Object(g.c)(g.a,"aboutMe","aboutMe",null)]}),Object(v.jsx)("b",{children:"Contacts"}),":",Object.keys(s.contacts).map((function(t){return Object(v.jsx)("div",{children:Object(v.jsxs)("b",{children:[t,":",Object(g.c)(g.a,t,"contacts."+t,[])]})},t)})),Object(v.jsx)(P.a,{children:"Save"}),"   ",n&&Object(v.jsx)("div",{className:N.a.formError,children:n})]})})),I=function(t){var e=t.contactTitle,s=t.contactValue;return Object(v.jsxs)("div",{children:[Object(v.jsx)("span",{className:p.a.contactsTitle,children:e}),":",Object(v.jsx)("span",{children:s})]})},C=function(t){var e=t.profile,s=t.isOwner,n=t.goToEditMode;return Object(v.jsxs)("div",{className:p.a.dataForm,children:[Object(v.jsxs)("div",{children:[Object(v.jsx)("b",{children:"Looking for a job"}),": ",e.lookingForAJob?"yes":"no"]}),e.lookingForAJob&&Object(v.jsxs)("div",{children:[Object(v.jsx)("b",{children:"My professional skills"}),": ",e.lookingForAJobDescription]}),Object(v.jsxs)("div",{children:[Object(v.jsx)("b",{children:"About me"}),": ",e.aboutMe]}),Object(v.jsxs)("div",{className:p.a.contacts,children:[Object(v.jsx)("b",{children:"Contacts:"}),Object.keys(e.contacts).map((function(t){return Object(v.jsx)(I,{contactTitle:t,contactValue:e.contacts[t]},t)}))]}),s&&Object(v.jsx)("div",{children:Object(v.jsx)(P.a,{children:"Edit profile",onClick:n})})]})},A=function(t){var e=t.saveProfile,s=t.isOwner,n=t.savePhoto,r=t.profile,c=t.status,o=t.updateUserStatus,i=Object(a.useState)(!1),l=Object(h.a)(i,2),u=l[0],j=l[1];if(!r)return Object(v.jsx)(m.a,{});return Object(v.jsxs)("div",{className:p.a.myInfo,children:[Object(v.jsxs)("div",{className:p.a.left,children:[Object(v.jsx)("img",{className:p.a.mainPhoto,src:null!=r.photos.large?r.photos.large:x.a}),s&&Object(v.jsx)("input",{className:p.a.selectFile,type:"file",onChange:function(t){t.target.files.length&&n(t.target.files[0])}})]}),Object(v.jsxs)("div",{className:p.a.right,children:[Object(v.jsx)("div",{className:p.a.name,children:r.fullName}),Object(v.jsx)("div",{className:p.a.status,children:Object(v.jsx)(_,{updateUserStatus:o,status:c})}),Object(v.jsxs)("div",{children:[" ",u?Object(v.jsx)(S,{initialValues:r,onSubmit:function(t){e(t).then((function(){j(!1)}))},profile:r}):Object(v.jsx)(C,{goToEditMode:function(){j(!0)},profile:r,isOwner:s})]})]})]})},T=s(306),w=s.n(T),U=s(307),J=s.n(U),E=s(237),M=function(t){return Object(v.jsxs)("div",{className:J.a.item,children:[Object(v.jsx)("img",{src:E.a}),Object(v.jsxs)("div",{className:J.a.postText,children:[Object(v.jsxs)("span",{children:[" ",t.message]}),Object(v.jsx)("span",{className:J.a.likes,children:t.likes})]})]})},D=l.a.memo((function(t){var e=t.posts.map((function(t){return Object(v.jsx)(M,{message:t.message,likes:t.likes},t.id)}));return Object(v.jsxs)("div",{className:w.a.postsBlock,children:[Object(v.jsx)("h3",{children:"Feed"}),Object(v.jsx)("div",{children:Object(v.jsx)(V,{onSubmit:function(e){t.addPost(e.newPostBody)}})}),Object(v.jsx)("div",{className:w.a.posts,children:e})]})})),B=Object(F.a)(300),V=Object(k.a)({form:"profileAddPostForm"})((function(t){return Object(v.jsxs)("form",{onSubmit:t.handleSubmit,children:[Object(v.jsx)("div",{children:Object(g.c)(g.b,"Enter your message","newPostBody",[F.b,B],null,"text")}),Object(v.jsx)(P.a,{children:"Add Post"})]})})),L=D,z=Object(u.b)((function(t){return{posts:t.profilePage.posts}}),{addPost:j.a})(L),X=function(t){return Object(v.jsxs)("div",{children:[Object(v.jsx)(A,{profile:t.profile,status:t.status,updateUserStatus:t.updateUserStatus,savePhoto:t.savePhoto,saveProfile:t.saveProfile,isOwner:t.isOwner}),Object(v.jsx)("div",{children:Object(v.jsx)(z,{})})]})},Z=function(t){Object(o.a)(s,t);var e=Object(i.a)(s);function s(){return Object(r.a)(this,s),e.apply(this,arguments)}return Object(c.a)(s,[{key:"refreshProfile",value:function(){var t=this.props.match.params.userId;t||(t=this.props.authorizedUserId)||this.props.history.push("/login"),this.props.getUserProfile(t),this.props.getUserStatus(t)}},{key:"componentDidMount",value:function(){this.refreshProfile()}},{key:"componentDidUpdate",value:function(t,e,s){this.props.match.params.userId!==t.match.params.userId&&this.refreshProfile()}},{key:"render",value:function(){return Object(v.jsx)("div",{children:Object(v.jsx)(X,Object(n.a)(Object(n.a)({},this.props),{},{profile:this.props.profile,status:this.props.status,updateUserStatus:this.props.updateUserStatus,savePhoto:this.props.savePhoto,saveProfile:this.props.saveProfile,isOwner:!this.props.match.params.userId}))})}}]),s}(l.a.Component);e.default=Object(f.d)(Object(u.b)((function(t){return{profile:t.profilePage.profile,status:t.profilePage.status,authorizedUserId:t.auth.id,isAuth:t.auth.isAuth}}),{getUserProfile:j.c,getUserStatus:j.d,updateUserStatus:j.g,savePhoto:j.e,saveProfile:j.f}),b.a,d.f)(Z)}}]);
//# sourceMappingURL=4.4d972e14.chunk.js.map