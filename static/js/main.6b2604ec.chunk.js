(this["webpackJsonpsocial-network"]=this["webpackJsonpsocial-network"]||[]).push([[0],{134:function(e,t,n){e.exports={button:"Button_button__35Lk-"}},135:function(e,t,n){e.exports={dialog:"Message_dialog__3Vj5J"}},136:function(e,t,n){e.exports={preloader:"Preloader_preloader__3_k_9"}},138:function(e,t,n){},169:function(e,t,n){},170:function(e,t,n){},28:function(e,t,n){e.exports={formControl:"FormsControl_formControl__3ePls",error:"FormsControl_error__3Zoc1",formError:"FormsControl_formError__ENTLg",login:"FormsControl_login__3eT-V",checkbox:"FormsControl_checkbox__2IIJT",textarea:"FormsControl_textarea__2kYG7"}},29:function(e,t,n){e.exports={pagination:"Paginator2_pagination__2iala",numb:"Paginator2_numb__Y1kN-",btn:"Paginator2_btn__1WVJ0",dots:"Paginator2_dots__24T25",active:"Paginator2_active__2OiQr"}},299:function(e,t,n){"use strict";n.r(t);var r=n(1),s=n.n(r),a=n(64),c=n.n(a),i=(n(169),n(24)),o=n(25),u=n(27),l=n(26),d=(n(170),n(34)),j=n.n(d),b=n(13),f=n(0),p=function(){return Object(f.jsxs)("nav",{className:j.a.nav,children:[Object(f.jsx)("div",{children:Object(f.jsx)(b.b,{to:"/profile",activeClassName:j.a.active,children:"Profile"})}),Object(f.jsx)("div",{children:Object(f.jsx)(b.b,{to:"/dialogs",activeClassName:j.a.active,children:"Message"})}),Object(f.jsx)("div",{children:Object(f.jsx)(b.b,{to:"/news",activeClassName:j.a.active,children:"News"})}),Object(f.jsx)("div",{children:Object(f.jsx)(b.b,{to:"/music",activeClassName:j.a.active,children:"Music"})}),Object(f.jsx)("div",{children:Object(f.jsx)(b.b,{to:"/settings",activeClassName:j.a.active,children:"Settings"})}),Object(f.jsx)("div",{children:Object(f.jsx)(b.b,{to:"/users",activeClassName:j.a.active,children:"Users"})})]})},h=n(12),O=n(128),g=function(e){if(!e)return"Field is required"},m=function(e){return function(t){if(t.length>e)return"The limit is ".concat(e," symbols")}},x=n(3),v=n(44),_=n(28),P=n.n(_),w=n(127),k=["input","meta","child","children"],N=["input","meta","child","className"],C=["textarea","meta","child","className"],y=function(e){e.input;var t=e.meta,n=t.touched,r=t.error,s=(e.child,e.children),a=(Object(v.a)(e,k),n&&r);return Object(f.jsxs)("div",{className:P.a.formControl+" "+(a?P.a.error:" "),children:[Object(f.jsx)("div",{children:s}),a&&Object(f.jsx)("span",{children:r})]})},S=function(e){var t=e.input,n=(e.meta,e.child,e.className),r=Object(v.a)(e,N);return Object(f.jsx)(y,Object(x.a)(Object(x.a)({},e),{},{children:Object(f.jsx)("input",Object(x.a)(Object(x.a)({className:n},t),r))}))},U=function(e){var t=e.textarea,n=(e.meta,e.child,e.className),r=Object(v.a)(e,C);return Object(f.jsx)(y,Object(x.a)(Object(x.a)({},e),{},{children:Object(f.jsx)("textarea",Object(x.a)(Object(x.a)({className:P.a.textarea+" "+n},t),r))}))},I=function(e,t,n,r,s,a){var c=arguments.length>6&&void 0!==arguments[6]?arguments[6]:"",i=arguments.length>7&&void 0!==arguments[7]?arguments[7]:{};return Object(f.jsxs)("div",{className:s,children:[Object(f.jsx)(w.a,Object(x.a)({component:e,placeholder:t,name:n,validate:r,type:a},i)),c]})},E=n(11),T=n(10),F=n.n(T),A=n(16),M=n(133).create({baseURL:"https://social-network.samuraijs.com/api/1.0/",withCredentials:!0,headers:{"API-KEY":"3583873e-cb34-4207-bcd8-c53e20271831"}}),L={getUsers:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:3,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:10;return M.get("users?page=".concat(e,"&count=").concat(t)).then((function(e){return e.data}))},follow:function(e){return M.post("follow/".concat(e)).then((function(e){return e.data}))},unfollow:function(e){return M.delete("follow/".concat(e)).then((function(e){return e.data}))}},D=function(e){return M.get("profile/"+e).then((function(e){return e.data}))},z=function(e){return M.get("profile/status/"+e).then((function(e){return e.data}))},B=function(e){return M.put("profile/status",{status:e}).then((function(e){return e.data}))},R=function(){return M.get("auth/me")},G=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];return M.post("auth/login",{email:e,password:t,rememberMe:n})},J=function(){return M.delete("auth/login")},H=n(37),V="social-network/auth/SET-AUTH-USER-DATA",X={login:null,id:null,email:null,isAuth:!1},W=function(e,t,n,r){return{type:V,payload:{id:e,email:t,login:n,isAuth:r}}},Y=function(){return function(){var e=Object(A.a)(F.a.mark((function e(t){var n,r,s,a,c;return F.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,R();case 2:0===(n=e.sent).data.resultCode&&(r=n.data.data,s=r.id,a=r.email,c=r.login,t(W(s,a,c,!0)));case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},Z=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:X,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case V:return Object(x.a)(Object(x.a)({},e),t.payload);default:return e}},Q=n(134),q=n.n(Q),K=n(68),$=n.n(K),ee=["children","onClick","disabled","active","className"],te=function(e){var t=e.children,n=e.onClick,r=e.disabled,s=e.active,a=e.className,c=Object(v.a)(e,ee),i=$()(q.a.button,a,{active:s});return Object(f.jsx)("div",{children:Object(f.jsx)("button",Object(x.a)(Object(x.a)({},c),{},{className:i,onClick:n,disabled:r,children:t}))})},ne=m(40),re=Object(O.a)({form:"login"})((function(e){var t=e.error,n=e.handleSubmit;return Object(f.jsxs)("form",{onSubmit:n,children:[I(S,"email","email",[g,ne],P.a.login),I(S,"password","password",[g,ne],P.a.login,"password"),I(S,null,"rememberMe",null,P.a.checkbox,"checkbox","remember me"),t&&Object(f.jsx)("div",{className:P.a.formError,children:t}),Object(f.jsx)("div",{children:Object(f.jsx)(te,{children:"Log in"})})]})})),se=Object(E.b)((function(e){return{isAuth:e.auth.isAuth}}),{login:function(e,t,n){return function(){var r=Object(A.a)(F.a.mark((function r(s){var a,c;return F.a.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.next=2,G(e,t,n);case 2:0===(a=r.sent).data.resultCode?s(Y()):(c=a.data.messages.length>0?a.data.messages[0]:"Some error",s(Object(H.a)("login",{_error:c})));case 4:case"end":return r.stop()}}),r)})));return function(e){return r.apply(this,arguments)}}()}})((function(e){return e.isAuth?Object(f.jsx)(h.a,{to:"/profile"}):Object(f.jsx)("div",{children:Object(f.jsx)(re,{onSubmit:function(t){e.login(t.email,t.password,t.rememberMe)}})})})),ae=function(e){return Object(f.jsx)("div",{children:"Music"})},ce=function(e){return Object(f.jsx)("div",{children:"settings"})},ie=n(43),oe="social-network/dialogPage/SEND-MESSAGE",ue={dialogs:[{name:"User1",id:1},{name:"User2",id:2},{name:"User3",id:3},{name:"User4",id:4},{name:"User5",id:5}],messages:[{id:1,message:"text message"},{id:2,message:"text message"},{id:3,message:"text message"},{id:4,message:"text message"},{id:5,message:"text message"}]},le=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ue,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case oe:return Object(x.a)(Object(x.a)({},e),{},{messages:[].concat(Object(ie.a)(e.messages),[{id:6,message:t.newMessageBody}])});default:return e}},de=n(72),je=n.n(de),be=n(95),fe=n.n(be),pe=n.p+"static/media/user.930a8106.jpg",he=function(e){return Object(f.jsxs)("div",{className:fe.a.dialogItem,children:[Object(f.jsx)("img",{src:pe}),Object(f.jsx)(b.b,{to:"/dialogs/"+e.id,activeClassName:fe.a.active,children:e.name})]})},Oe=n(135),ge=n.n(Oe),me=function(e){return Object(f.jsx)("div",{className:ge.a.dialog,children:e.message})},xe=m(10),ve=Object(O.a)({form:"addMessage"})((function(e){return Object(f.jsxs)("form",{onSubmit:e.handleSubmit,children:[Object(f.jsx)("div",{children:I(U,"Enter your message","newMessageBody",[g,xe],null,"textarea")}),Object(f.jsx)("div",{children:Object(f.jsx)(te,{children:"Send"})})]})})),_e=function(e){var t=e.dialogsPage.dialogs.map((function(e){return Object(f.jsx)(he,{name:e.name,id:e.id},e.id)})),n=e.dialogsPage.messages.map((function(e){return Object(f.jsx)(me,{message:e.message,id:e.id},e.id)}));return Object(f.jsxs)("div",{children:[Object(f.jsxs)("div",{className:je.a.dialogs,children:[Object(f.jsx)("div",{children:t}),Object(f.jsx)("div",{className:je.a.message,children:n})]}),Object(f.jsx)("div",{className:je.a.btn,children:Object(f.jsx)(ve,{onSubmit:function(t){e.sendMessage(t.newMessageBody)}})})]})},Pe=function(e){return{isAuth:e.auth.isAuth}},we=function(e){var t=function(t){Object(u.a)(r,t);var n=Object(l.a)(r);function r(){return Object(i.a)(this,r),n.apply(this,arguments)}return Object(o.a)(r,[{key:"render",value:function(){return this.props.isAuth?Object(f.jsx)(e,Object(x.a)({},this.props)):Object(f.jsx)(h.a,{to:"/login"})}}]),r}(s.a.Component);return Object(E.b)(Pe)(t)},ke=n(9),Ne=Object(ke.d)(Object(E.b)((function(e){return{dialogsPage:e.dialogPage}}),{sendMessage:function(e){return{type:oe,newMessageBody:e}}}),we)(_e),Ce=n(70),ye=n.n(Ce),Se=function(e,t,n,r){return e.map((function(e){return e[n]===t?Object(x.a)(Object(x.a)({},e),r):e}))},Ue="social-network/usersPage/FOLLOW",Ie="social-network/usersPage/UNFOLLOW",Ee="social-network/usersPage/SET_USERS",Te="social-network/usersPage/SET_TOTAL_USERS_COUNT",Fe="social-network/usersPage/SET_CURRENT_PAGE",Ae="social-network/usersPage/TOGGLE_IS_FETCHING",Me="social-network/usersPage/TOGGLE_FOLLOWING_PROGRESS",Le={users:[],totalUsersCount:0,pageSize:100,currentPage:1,isFetching:!0,followingInProgress:[]},De=function(e){return{type:Ue,userId:e}},ze=function(e){return{type:Ie,userId:e}},Be=function(e){return{type:Ee,users:e}},Re=function(e){return{type:Fe,currentPage:e}},Ge=function(e){return{type:Ae,isFetching:e}},Je=function(e,t){return{type:Me,isFetching:e,id:t}},He=function(){var e=Object(A.a)(F.a.mark((function e(t,n,r,s){return F.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t(Je(!0,r)),e.next=3,n(r);case 3:0===e.sent.resultCode&&t(s(r)),t(Je(!1,r));case 6:case"end":return e.stop()}}),e)})));return function(t,n,r,s){return e.apply(this,arguments)}}(),Ve=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Le,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case Ie:return Object(x.a)(Object(x.a)({},e),{},{users:Se(e.users,t.userId,"id",{followed:!1})});case Ue:return Object(x.a)(Object(x.a)({},e),{},{users:Se(e.users,t.userId,"id",{followed:!0})});case Ee:return Object(x.a)(Object(x.a)({},e),{},{users:t.users});case Te:return Object(x.a)(Object(x.a)({},e),{},{totalUsersCount:t.totalUsersCount});case Fe:return Object(x.a)(Object(x.a)({},e),{},{currentPage:t.currentPage});case Ae:return Object(x.a)(Object(x.a)({},e),{},{isFetching:t.isFetching});case Me:return Object(x.a)(Object(x.a)({},e),{},{followingInProgress:t.isFetching?[].concat(Object(ie.a)(e.followingInProgress),[t.id]):e.followingInProgress.filter((function(e){return e!==t.id}))});default:return e}},Xe=n(73),We=n.n(Xe),Ye=n.p+"static/media/userPhoto.ffbebeda.png",Ze=function(e){var t=e.user,n=e.followingInProgress,r=e.unfollow,s=e.follow,a=function(e){n.some((function(t){return e.id===t}))};return Object(f.jsx)("div",{children:Object(f.jsxs)("span",{className:We.a.user,children:[Object(f.jsx)(b.b,{to:"/profile"+t.id,children:Object(f.jsx)("img",{src:null!=t.photos.small?t.photos.small:Ye})}),t.name,Object(f.jsx)("span",{className:We.a.usersInform,children:Object(f.jsx)("div",{className:We.a.followed,children:t.followed?Object(f.jsx)(te,{children:"Unollow",disabled:a(t),onClick:function(){r(t.id)}}):Object(f.jsx)(te,{children:"Follow",disabled:a(t),onClick:function(){s(t.id)}})})})]})},t.id)},Qe=n(66),qe=n(54),Ke=n(29),$e=n.n(Ke),et=function(e){var t=e.modifiedCurrentPage,n=e.currentPage,r=e.whichPortionNumber,s=e.portionNumber,a=e.onPageClick,c=e.setPortionNumber,i=e.text,o=e.className;return Object(f.jsx)("li",{className:o,onClick:function(){n===r?(c(s),a(t)):a(t)},children:i})},tt=function(){return Object(f.jsx)("li",{className:$e.a.dots,children:Object(f.jsx)("span",{children:"  . . .  "})})},nt=function(e){for(var t=e.totalUsersCount,n=e.pageSize,s=e.currentPage,a=e.onPageClick,c=e.portionSize,i=void 0===c?2:c,o=Math.ceil(t/n),u=[],l=1;l<=o;l++)u.push(l);var d=Math.ceil(o/i),j=Object(r.useState)(1),b=Object(qe.a)(j,2),p=b[0],h=b[1],O=(p-1)*i+1,g=p*i+2;return Object(f.jsx)(f.Fragment,{children:Object(f.jsx)("div",{className:$e.a.pagination,children:Object(f.jsxs)("ul",{children:[1!==s&&Object(f.jsx)(et,{currentPage:s,whichPortionNumber:O,portionNumber:p-1,modifiedCurrentPage:s-1,onPageClick:a,setPortionNumber:h,text:"\ufe64",className:$e.a.btn}),1!==p&&Object(f.jsxs)(f.Fragment,{children:[Object(f.jsx)(et,{onPageClick:a,modifiedCurrentPage:1,portionNumber:1,text:1,setPortionNumber:h,className:$e.a.numb}),Object(f.jsx)(tt,{})]}),u.filter((function(e){return e>=O&&e<=g})).map((function(e){return Object(f.jsx)("li",{className:$()(Object(Qe.a)({},$e.a.active,s===e),$e.a.numb),onClick:function(t){a(e)},children:e},e)})),p!==d&&Object(f.jsxs)(f.Fragment,{children:[Object(f.jsx)(tt,{}),Object(f.jsx)(et,{onPageClick:a,setPortionNumber:h,modifiedCurrentPage:o,portionNumber:d,text:o,className:$e.a.numb})]}),s<o&&Object(f.jsx)(et,{currentPage:s,whichPortionNumber:g,portionNumber:p+1,modifiedCurrentPage:s+1,onPageClick:a,setPortionNumber:h,text:"\ufe65",className:$e.a.btn})]})})})},rt=function(e){var t=e.totalUsersCount,n=e.pageSize,r=e.currentPage,s=e.onPageClick,a=e.followingInProgress,c=e.unfollow,i=e.follow,o=e.users;return Object(f.jsxs)("div",{className:ye.a.users,children:[Object(f.jsx)(nt,{totalUsersCount:t,currentPage:r,pageSize:n,onPageClick:s}),o.map((function(e){return Object(f.jsx)(Ze,{user:e,followingInProgress:a,unfollow:c,follow:i},e.id)}))]})},st=n(136),at=n.n(st),ct=function(e){return Object(f.jsx)("div",{className:at.a.preloader,children:"Loading..."})},it=n(137),ot=Object(it.a)((function(e){return e.usersPage.users}),(function(e){return e.filter((function(e){return!0}))})),ut=function(e){return e.usersPage.totalUsersCount},lt=function(e){return e.usersPage.pageSize},dt=function(e){return e.usersPage.currentPage},jt=function(e){return e.usersPage.isFetching},bt=function(e){return e.usersPage.followingInProgress},ft=function(e){Object(u.a)(n,e);var t=Object(l.a)(n);function n(){var e;Object(i.a)(this,n);for(var r=arguments.length,s=new Array(r),a=0;a<r;a++)s[a]=arguments[a];return(e=t.call.apply(t,[this].concat(s))).onPageClick=function(t){(0,e.props.setUsers)(t,e.props.pageSize)},e}return Object(o.a)(n,[{key:"componentDidMount",value:function(){var e=this.props,t=e.currentPage,n=e.pageSize;this.props.getUsers(t,n)}},{key:"render",value:function(){return Object(f.jsxs)(f.Fragment,{children:[Object(f.jsx)("div",{className:ye.a.preloader,children:this.props.isFetching?Object(f.jsx)(ct,{}):null}),Object(f.jsx)(rt,{totalUsersCount:this.props.totalUsersCount,pageSize:this.props.pageSize,currentPage:this.props.currentPage,onPageClick:this.onPageClick,unfollow:this.props.unfollow,follow:this.props.follow,users:this.props.users,followingInProgress:this.props.followingInProgress})]})}}]),n}(s.a.Component),pt=Object(ke.d)(Object(E.b)((function(e){return{users:ot(e),totalUsersCount:ut(e),pageSize:lt(e),currentPage:dt(e),isFetching:jt(e),followingInProgress:bt(e)}}),{follow:function(e){return function(){var t=Object(A.a)(F.a.mark((function t(n){var r;return F.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:r=L.follow.bind(L),He(n,r,e,De);case 3:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()},unfollow:function(e){return function(){var t=Object(A.a)(F.a.mark((function t(n){var r;return F.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:r=L.unfollow.bind(L),He(n,r,e,ze);case 3:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()},setUsers:function(e,t){return function(){var n=Object(A.a)(F.a.mark((function n(r){var s;return F.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return r(Re(e)),r(Ge(!0)),n.next=4,L.getUsers(e,t);case 4:s=n.sent,r(Ge(!1)),r(Be(s.items));case 7:case"end":return n.stop()}}),n)})));return function(e){return n.apply(this,arguments)}}()},getUsers:function(e,t){return function(){var n=Object(A.a)(F.a.mark((function n(r){var s;return F.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return r(Ge(!0)),n.next=3,L.getUsers(e,t);case 3:s=n.sent,r(Ge(!1)),r(Be(s.items)),r((a=s.totalCount,{type:Te,totalUsersCount:a})),r(Re(e));case 8:case"end":return n.stop()}var a}),n)})));return function(e){return n.apply(this,arguments)}}()},toggleIsFetching:Ge}),we)(ft),ht=n(138),Ot=n.n(ht),gt=n(96),mt=n.n(gt),xt=function(e){var t=Object(r.useState)(!1),n=Object(qe.a)(t,2),s=n[0],a=n[1],c=Object(r.useState)(e.status),i=Object(qe.a)(c,2),o=i[0],u=i[1];Object(r.useEffect)((function(){u(e.status)}),[e.status]);return Object(f.jsxs)("div",{children:[!s&&Object(f.jsx)("div",{onDoubleClick:function(){a(!0)},children:Object(f.jsx)("span",{children:e.status||"---"})}),s&&Object(f.jsx)("div",{children:Object(f.jsx)("input",{onChange:function(e){u(e.currentTarget.value)},autoFocus:!0,onBlur:function(){a(!1),e.updateUserStatus(o)},value:o})})]})},vt=function(e){var t=e.profile,n=e.status,r=e.updateUserStatus;return t?Object(f.jsxs)("div",{className:mt.a.myInfo,children:[Object(f.jsx)("div",{children:Object(f.jsx)("img",{src:null!=t.photos.large?t.photos.large:Ye})}),Object(f.jsxs)("div",{children:[Object(f.jsx)("div",{className:mt.a.name,children:t.fullName}),Object(f.jsx)("div",{children:Object(f.jsx)(xt,{updateUserStatus:r,status:n})})]})]}):Object(f.jsx)(ct,{})},_t="social-network/profilePage/DELETE_POST",Pt="social-network/profilePage/ADD_POST",wt="social-network/profilePage/SET_USER_PROFILE",kt="social-network/profilePage/SET_USER_STATUS",Nt={posts:[{id:1,message:"post text",likes:"\u2764 15"},{id:2,message:"post text",likes:"\u2764 15"},{id:3,message:"post text",likes:"\u2764 15"},{id:4,message:"post text",likes:"\u2764 15"},{id:5,message:"post text",likes:"\u2764 15"}],profile:null,status:"Hi"},Ct=function(e){return{type:kt,status:e}},yt=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Nt,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case Pt:var n={id:6,message:t.newPostBody,likes:"\u2764 20"};return Object(x.a)(Object(x.a)({},e),{},{posts:[].concat(Object(ie.a)(e.posts),[n])});case wt:return Object(x.a)(Object(x.a)({},e),{},{profile:t.profile});case kt:return Object(x.a)(Object(x.a)({},e),{},{status:t.status});case _t:return Object(x.a)(Object(x.a)({},e),{},{posts:e.posts.filter((function(e){return e.id!==t.postId}))});default:return e}},St=n(97),Ut=n.n(St),It=n(74),Et=n.n(It),Tt=function(e){return Object(f.jsxs)("div",{className:Et.a.item,children:[Object(f.jsx)("img",{src:pe}),Object(f.jsxs)("span",{className:Et.a.postText,children:[" ",e.message,Object(f.jsx)("span",{className:Et.a.likes,children:e.likes})]})]})},Ft=s.a.memo((function(e){var t=e.posts.map((function(e){return Object(f.jsx)(Tt,{message:e.message,likes:e.likes},e.id)}));return Object(f.jsxs)("div",{className:Ut.a.postsBlock,children:[Object(f.jsx)("h2",{children:"My posts"}),Object(f.jsx)("div",{children:Object(f.jsx)(Mt,{onSubmit:function(t){e.addPost(t.newPostBody)}})}),Object(f.jsx)("div",{className:Ut.a.posts,children:t})]})})),At=m(10),Mt=Object(O.a)({form:"addPost"})((function(e){return Object(f.jsxs)("form",{onSubmit:e.handleSubmit,children:[Object(f.jsx)(w.a,{component:U,placeholder:"Enter your message",name:"newPostBody",validate:[g,At]}),Object(f.jsx)(te,{children:"Add Post"})]})})),Lt=Ft,Dt=Object(E.b)((function(e){return{posts:e.profilePage.posts}}),{addPost:function(e){return{type:Pt,newPostBody:e}}})(Lt),zt=function(e){return Object(f.jsxs)("div",{className:Ot.a.content,children:[Object(f.jsx)(vt,{profile:e.profile,status:e.status,updateUserStatus:e.updateUserStatus}),Object(f.jsx)(Dt,{})]})},Bt=function(e){Object(u.a)(n,e);var t=Object(l.a)(n);function n(){return Object(i.a)(this,n),t.apply(this,arguments)}return Object(o.a)(n,[{key:"componentDidMount",value:function(){var e=this.props.match.params.userId;e||(e=this.props.authorizedUserId)||this.props.history.push("/login"),this.props.getUserProfile(e),this.props.getUserStatus(this.props.status)}},{key:"render",value:function(){return Object(f.jsx)("div",{children:Object(f.jsx)(zt,Object(x.a)(Object(x.a)({},this.props),{},{profile:this.props.profile,status:this.props.status,updateUserStatus:this.props.updateUserStatus}))})}}]),n}(s.a.Component),Rt=Object(ke.d)(Object(E.b)((function(e){return{profile:e.profilePage.profile,status:e.profilePage.status,authorizedUserId:e.auth.id,isAuth:e.auth.isAuth}}),{getUserProfile:function(e){return function(){var t=Object(A.a)(F.a.mark((function t(n){var r;return F.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,D(e);case 2:r=t.sent,n({type:wt,profile:r});case 4:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()},getUserStatus:function(e){return function(){var t=Object(A.a)(F.a.mark((function t(n){var r;return F.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,z(e);case 2:r=t.sent,n(Ct(r));case 4:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()},updateUserStatus:function(e){return function(){var t=Object(A.a)(F.a.mark((function t(n){return F.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,B(e);case 2:0===t.sent.resultCode&&n(Ct(e));case 4:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()}}),we,h.f)(Bt),Gt=n(55),Jt=n.n(Gt),Ht=function(e){return Object(f.jsx)("header",{className:Jt.a.header,children:Object(f.jsx)("div",{className:Jt.a.login_block,children:e.isAuth?Object(f.jsx)("div",{children:Object(f.jsx)("button",{onClick:e.logout,className:Jt.a.link,children:"Log out"})}):Object(f.jsx)(b.b,{to:"/login",className:Jt.a.link,children:" Log in "})})})},Vt=function(e){Object(u.a)(n,e);var t=Object(l.a)(n);function n(){return Object(i.a)(this,n),t.apply(this,arguments)}return Object(o.a)(n,[{key:"render",value:function(){return Object(f.jsx)(Ht,Object(x.a)({},this.props))}}]),n}(s.a.Component),Xt=Object(E.b)((function(e){return{isAuth:e.auth.isAuth,login:e.auth.login}}),{logout:function(){return function(){var e=Object(A.a)(F.a.mark((function e(t){return F.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,J();case 2:0===e.sent.data.resultCode&&t(W(null,null,null,!1));case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()}})(Vt),Wt=function(e){return Object(f.jsx)("div",{children:"news"})},Yt="social-network/app/INITIALIZED_SUCCESS",Zt={initialized:!1},Qt=function(){return{type:Yt}},qt=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Zt,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case Yt:return Object(x.a)(Object(x.a)({},e),{},{initialized:!0});default:return e}},Kt=function(e){Object(u.a)(n,e);var t=Object(l.a)(n);function n(){return Object(i.a)(this,n),t.apply(this,arguments)}return Object(o.a)(n,[{key:"componentDidMount",value:function(){this.props.initializeApp()}},{key:"render",value:function(){return Object(f.jsxs)("div",{className:"app-wrapper",children:[Object(f.jsx)(Xt,{}),Object(f.jsx)(p,{}),Object(f.jsxs)("div",{className:"app-wrapper-content",children:[Object(f.jsx)(h.b,{path:"/dialogs",render:function(){return Object(f.jsx)(Ne,{})}}),Object(f.jsx)(h.b,{path:"/profile:userId?",render:function(){return Object(f.jsx)(Rt,{})}}),Object(f.jsx)(h.b,{path:"/users",render:function(){return Object(f.jsx)(pt,{})}}),Object(f.jsx)(h.b,{path:"/news",render:function(){return Object(f.jsx)(Wt,{})}}),Object(f.jsx)(h.b,{path:"/music",render:function(){return Object(f.jsx)(ae,{})}}),Object(f.jsx)(h.b,{path:"/settings",render:function(){return Object(f.jsx)(ce,{})}}),Object(f.jsx)(h.b,{path:"/login",render:function(){return Object(f.jsx)(se,{})}})]})]})}}]),n}(s.a.Component),$t=Object(ke.d)(Object(E.b)((function(e){return{initialized:e.app.initialized}}),{initializeApp:function(){return function(e){var t=e(Y());Promise.all([t]).then((function(){return e(Qt)}))}}}),h.f)(Kt),en=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,300)).then((function(t){var n=t.getCLS,r=t.getFID,s=t.getFCP,a=t.getLCP,c=t.getTTFB;n(e),r(e),s(e),a(e),c(e)}))},tn=n(139),nn=n(129),rn=Object(ke.c)({profilePage:yt,dialogPage:le,usersPage:Ve,auth:Z,app:qt,form:nn.a}),sn=window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__||ke.d,an=Object(ke.e)(rn,sn(Object(ke.a)(tn.a)));c.a.render(Object(f.jsx)(b.a,{children:Object(f.jsx)(E.a,{store:an,children:Object(f.jsx)($t,{})})}),document.getElementById("root")),en()},34:function(e,t,n){e.exports={nav:"Navbar_nav__9VrRn",active:"Navbar_active__oou2H"}},55:function(e,t,n){e.exports={header:"Header_header__1m1vu",login_block:"Header_login_block__XDaBX",link:"Header_link__2GBMy"}},70:function(e,t,n){e.exports={preloader:"Users_preloader__2-LGu"}},72:function(e,t,n){e.exports={dialogs:"Dialogs_dialogs__wV3EQ",btn:"Dialogs_btn__6DbrX"}},73:function(e,t,n){e.exports={user:"User_user__ijNim",usersInform:"User_usersInform__2JajO",followed:"User_followed__2wXvj"}},74:function(e,t,n){e.exports={item:"Post_item__abhDn",postText:"Post_postText__1uJO4",likes:"Post_likes__25VJv"}},95:function(e,t,n){e.exports={dialogItem:"DialogItem_dialogItem__3k_bN",active:"DialogItem_active__1Tn2k"}},96:function(e,t,n){e.exports={myInfo:"ProfileInfo_myInfo__3hr8c",name:"ProfileInfo_name__vmhje"}},97:function(e,t,n){e.exports={posts:"MyPosts_posts__3tpJ5",postsBlock:"MyPosts_postsBlock__6e-ZX"}}},[[299,1,2]]]);
//# sourceMappingURL=main.6b2604ec.chunk.js.map